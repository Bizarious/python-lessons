% The Slide Definitions
\input{../templates/course_definitions}

% Author and Course information
\input{../templates/course_information}

% Presentation title
\title{Dekoratoren und Exception-Behandlung}
\date{13. Januar 2022}

\begin{document}
	
\maketitle

\begin{frame}{Gliederung}
	\setbeamertemplate{section in toc}[sections numbered]
	\tableofcontents
\end{frame}

\section*{Gesamtübersicht}
\begin{frame}{Gesamtübersicht}
	\textbf{Themen der nächsten Stunden}
	\begin{itemize}
		\item Referenzen Erklärung
		\item  Klassen
		\item Imports
		\item Nützliche Funktionen zur Iteration
		\item Lambda
		\item Unpacking
		\item File handeling
		\item Listcomprehension
		\item \alert{Dekoratoren}
		\item \alert{Exception-Behandlung}
	\end{itemize}
\end{frame}

\section{Wiederholung}
\begin{frame}{Wiederholung}
	\textbf{Beim letzten Mal:}
	\begin{itemize}
		\item Filehandling
		\lstinputlisting[firstline=3,lastline=8]{resources/09_filehandeling_listcomprehension/open_basics.py}
		\item List Comprehensions
		\lstinputlisting[firstline=0,lastline=7]{resources/09_filehandeling_listcomprehension/comprehensions.py}
	\end{itemize}	
\end{frame}

\section{Dekoratoren}
\begin{frame}{Dekoratoren}
	Funktionen und Klassen Definitionen können "dekoriert" werden, indem über der jeweiligen definition \codeline{@<funktion>} eingefügt wird.
	\lstinputlisting[firstline=8,lastline=10]{resources/10_decorators_errors/dekoratoren.py}
	Hinter dem \codeline{@} muss dabei eine funktionsname stehen.	
\end{frame}

\begin{frame}
	Funktionen die als Dekorator verwendet werden können, nehmen eine Funktion, Methode oder Klasse als Argument entgegen und geben das gleiche auch wieder aus. 
	
	Durch die \codeline{@} Notation wird die ursprüngliche Funktion mit dem Ausgabewert der Dekoratorfunktion überschrieben.
	\lstinputlisting[firstline=12,lastline=15]{resources/10_decorators_errors/dekoratoren.py}
	Dieser Code bewirkt das Gleiche, was auch mit der \codeline{@} Notation bewirkt würde. 
\end{frame}

\begin{frame}{Beispiel Funktionsdekorator}
	Ein Funktionsdekorator nimmt eine Funktion entgegen, und gibt auch wieder eine Funktion aus.
	\lstinputlisting[firstline=2,lastline=6]{resources/10_decorators_errors/dekoratoren.py}
	\lstinputlisting[firstline=8,lastline=10]{resources/10_decorators_errors/dekoratoren.py}
	In diesem Fall verändert die Dekoratorfunktion die Signatur der Ausgangsfunktion. 
\end{frame}

\begin{frame}{Anwendungsbeispiel Nebeneffekte}
	Ziel eines Dekorators muss es aber nicht immer sein das Verhalten, der Funktion oder Klasse zu verändern. Er kann auch als Einstiegspunkt dienen.
	\lstinputlisting[firstline=18,lastline=31]{resources/10_decorators_errors/dekoratoren.py}
\end{frame}

\begin{frame}{mehrere Dekoratoren}
	Es können auch mehrere Dekoratoren angewendet werden:
	\lstinputlisting[firstline=54,lastline=59]{resources/10_decorators_errors/dekoratoren.py}
\end{frame}

\begin{frame}
	Definitionen für die benutzten Dekoratoren.
	\lstinputlisting[firstline=40,lastline=52]{resources/10_decorators_errors/dekoratoren.py}
\end{frame}

\begin{frame}{mehrere Dekoratoren}
	Es können auch mehrere Dekoratoren angewendet werden:
	\lstinputlisting[firstline=54,lastline=59]{resources/10_decorators_errors/dekoratoren.py}
	Ausgabe: \linebreak
	\codeline{deko eins start} \linebreak
	\codeline{deko zwei start} \linebreak
	\codeline{hi} \linebreak
	\codeline{deko zwei ende} \linebreak
	\codeline{deko eins ende}
\end{frame}

\section{Exception-Behandlung}
\begin{frame}{Exceptions}
	\alert{Exceptions} sind Fehler, die das Programm wirft, wenn es einen unerwünschten Zustand erreicht hat. Jedem Programmierer werden sie früher oder später begegnen.
	
	Beispiel Exceptions sind:
	\begin{itemize}
		\item \codeline{Exception}(Basisklasse, von der alle Exceptions erben)
		\item \codeline{RuntimeError}
		\item \codeline{ZeroDivisionError}
		\item \codeline{ValueError}
		\item \codeline{KeyboardInterrupt}
	\end{itemize}
\end{frame}

\begin{frame}{\codeline{try} und \codeline{except}}
	Mit den beiden Keywords \codeline{try} und \codeline{except} können Fehler abgefangen und behandelt werden:
	\lstinputlisting[firstline=0,lastline=5]{resources/10_decorators_errors/errors.py}
	Das Programm wird nicht abstürzen, es wird lediglich 'Da war ein Fehler' auf der Konsole ausgeben.
\end{frame}

\begin{frame}{\codeline{try} und \codeline{except}}
	Man kann, ähnlich wie bei \codeline{if} und \codeline{elif}, auch verschiedene Fehler verschieden behandeln:
	\lstinputlisting[firstline=7,lastline=14]{resources/10_decorators_errors/errors.py}
\end{frame}

\begin{frame}{\codeline{finally}}
	Möchte man \textit{auf jeden Fall} etwas ausführen, egal, ob gerade ein Fehler kam, oder nicht, kann man das Keyword \codeline{finally} benutzen:
	\lstinputlisting[firstline=28,lastline=34]{resources/10_decorators_errors/errors.py}
\end{frame}

\begin{frame}{Exceptions sind Objekte}
	Wird in Python eine Exception geworfen, so ist diese als Objekt verfügbar:
	\lstinputlisting[firstline=16,lastline=20]{resources/10_decorators_errors/errors.py}
	oder allgemeiner:
	\lstinputlisting[firstline=22,lastline=26]{resources/10_decorators_errors/errors.py}
\end{frame}

\begin{frame}{Selber Exceptions werfen}
	Man kann auch selber Exceptions werfen, z.B., wenn man gewisse Eingaben unterbinden will. Dies wird mit dem Keyword \codeline{raise} gemacht:
	\lstinputlisting[firstline=36,lastline=40]{resources/10_decorators_errors/errors.py}
\end{frame}

\end{document}
