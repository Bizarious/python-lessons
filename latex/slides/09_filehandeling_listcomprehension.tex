% The Slide Definitions
\input{../templates/course_definitions}

% Author and Course information
\input{../templates/course_information}

% Presentation title
\title{Filehandeling und Listcomprehension}
\date{13. Januar 2022}

\begin{document}
	
\maketitle

\begin{frame}{Gliederung}
	\setbeamertemplate{section in toc}[sections numbered]
	\tableofcontents
\end{frame}

\section*{Gesamtübersicht}
\begin{frame}{Gesamtübersicht}
	\textbf{Themen der nächsten Stunden}
	\begin{itemize}
		\item Referenzen Erklärung
		\item  Klassen
		\item Imports
		\item Nützliche Funktionen zur Iteration
		\item Lambda
		\item Unpacking
		\item \alert{File handeling}
		\item \alert{Listcomprehension}
		\item Dekoratoren
	\end{itemize}
\end{frame}

\section{Wiederholung}
\begin{frame}{Wiederholung}
	\textbf{Beim letzten Mal:}
	\begin{itemize}
		\item Unpacking
		\lstinputlisting[firstline=7,lastline=8]{resources//08_unpacking_lambda/unpacking.py}
		\lstinputlisting[firstline=19,lastline=23]{resources//08_unpacking_lambda/unpacking.py}
		\item Lambda
		\lstinputlisting[firstline=0,lastline=15]{resources//08_unpacking_lambda/lamda_syntax.py}
	\end{itemize}	
\end{frame}

\section{Filehandeling}
\begin{frame}{open Befehl}
	\codeline{open()} ist eine builtin Funktion zum öffnen von Dateien
	\lstinputlisting[firstline=0,lastline=1]{resources//09_filehandeling_listcomprehension/open_basics.py}
	\codeline{open} hat verschiedene Bearbeitungsmodi
	\begin{itemize}
		\item[] \lstinputlisting[firstline=3,lastline=4]{resources//09_filehandeling_listcomprehension/open_basics.py}
		\item[] \lstinputlisting[firstline=5,lastline=6]{resources//09_filehandeling_listcomprehension/open_basics.py}
		\item[] \lstinputlisting[firstline=7,lastline=8]{resources//09_filehandeling_listcomprehension/open_basics.py}
	\end{itemize}
\end{frame}

\begin{frame}{File Objekte}
	
	Die \codeline{open} Funktion gibt ein \codeline{File} Objekt zurück. Was kann man damit machen ?
	\begin{itemize}
		\item Die Datei schließen mit \codeline{f.close()} Dies sollte immer passieren, wenn die Bearbeitung abgeschlossen ist.
		\item Den kompletten Inhalt der Datei lesen mit \codeline{f.read()} 
		\item Zeile für Zeile den Inhalt lesen mit \codeline{f.readline()}
		\item In die Datei schreiben mit \codeline{f.write("content")}
		\item Die Stelle verändern an der gelesen / geschrieben wird mit \codeline{f.seek(position)}
	\end{itemize}
\end{frame}

\begin{frame}{Bearbeitungsmodi}
	Zusätzlich zu den normalen Modi gibt es den jeweiligen Modus mit einem \codeline{+}. Diese Modi haben mehr Rechte als der Originale.
	
	\begin{tabular}{| m{4cm} || m{0.5cm} m{0.5cm} m{0.5cm} || m{0.5cm} m{0.5cm} m{0.5cm} |}
		\hline
		Rechte / Modus 				& r & w & a & r+ & w+ & a+ \\ \hline\hline
		Read 				& \cmark &   &   & \cmark  & \cmark  & \cmark  \\ \hline
		Write   			&   & \cmark & \cmark & \cmark  & \cmark  & \cmark  \\ \hline
		Create  			&   & \cmark & \cmark &    & \cmark  & \cmark  \\ \hline
		Am Anfang starten   & \cmark & \cmark &   & \cmark  & \cmark  &    \\ \hline
		Am Ende starten   	&   &   & \cmark &    &    & \cmark  \\ \hline
	\end{tabular}
\end{frame}

\begin{frame}{Tipp: with open()}
	Mit \codeline{with open() as name:} wird die Datei automatisch wieder geschlossen, wenn das aufgemachte scope endet. \codeline{f.close()} kann nicht vergessen werden. 
	\lstinputlisting[firstline=0,lastline=6]{resources//09_filehandeling_listcomprehension/with_open.py}
\end{frame}

\section{Listcomprehension}
\begin{frame}{Basics}
	\alert{list comprehensions} sind eine Möglichkeit, Listen und andere \codeline{iterables} schneller und einfacher zu erstellen/manipulieren, als über herkömmliche Wege.
	
	Die folgenden beiden Codeabschnitte führen zum genau gleichen Ergebnis:	
	\lstinputlisting[firstline=0,lastline=4]{resources//09_filehandeling_listcomprehension/comprehensions.py}
	
	\lstinputlisting[firstline=6,lastline=7]{resources//09_filehandeling_listcomprehension/comprehensions.py}
\end{frame}

\begin{frame}{Verwendung mit \codeline{if}}
	Man kann 	\alert{list comprehensions} auch in Verbindung mit der \codeline{if}-Abfrage benutzen:
	\lstinputlisting[firstline=9,lastline=11]{resources//09_filehandeling_listcomprehension/comprehensions.py}
	
	oder zusätzlich mit else:	
	
	\lstinputlisting[firstline=13,lastline=14]{resources//09_filehandeling_listcomprehension/comprehensions.py}
\end{frame}

\begin{frame}{Verwendung mit mehreren Schleifen}
	Mehrere Schleifen zu verketten ist auch möglich:
	\lstinputlisting[firstline=16,lastline=18]{resources//09_filehandeling_listcomprehension/comprehensions.py}
\end{frame}

\end{document}
